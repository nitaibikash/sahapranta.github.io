"use strict";!function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(["jquery","googlemaps!"],t):e.GMaps=t()}(this,function(){var S,P,t,o,j=function(e,t){var o;if(e===t)return e;for(o in t)void 0!==t[o]&&(e[o]=t[o]);return e},a=function(e,o){var t,n=Array.prototype.slice.call(arguments,2),r=[],a=e.length;if(Array.prototype.map&&e.map===Array.prototype.map)r=Array.prototype.map.call(e,function(e){var t=n.slice(0);return t.splice(0,0,e),o.apply(this,t)});else for(t=0;t<a;t++)callback_params=n,callback_params.splice(0,0,e[t]),r.push(o.apply(this,callback_params));return r},i=function(e){var t,o=[];for(t=0;t<e.length;t++)o=o.concat(e[t]);return o},s=function(e,t){var o,n,r,a,i;for(o=0;o<e.length;o++)e[o]instanceof google.maps.LatLng||(0<e[o].length&&"object"==typeof e[o][0]?e[o]=s(e[o],t):e[o]=(n=e[o],r=t,i=a=void 0,a=n[0],i=n[1],r&&(a=n[1],i=n[0]),new google.maps.LatLng(a,i)));return e},z=function(e,t){e=e.replace("#","");return"jQuery"in window&&t?$("#"+e,t)[0]:document.getElementById(e)},c=(S=document,P=function(o){if("object"!=typeof window.google||!window.google.maps)return"object"==typeof window.console&&window.console.error&&console.error("Google Maps API is required. Please register the following JavaScript library https://maps.googleapis.com/maps/api/js."),function(){};if(!this)return new P(o);o.zoom=o.zoom||15,o.mapType=o.mapType||"roadmap";var e,t=function(e,t){return void 0===e?t:e},h=this,n=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"],r=["mousemove","mouseout","mouseover"],a=["el","lat","lng","mapType","width","height","markerClusterer","enableNewStyle"],i=o.el||o.div,s=o.markerClusterer,l=google.maps.MapTypeId[o.mapType.toUpperCase()],c=new google.maps.LatLng(o.lat,o.lng),p=t(o.zoomControl,!0),u=o.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"},d=u.style||"DEFAULT",g=u.position||"TOP_LEFT",f=t(o.panControl,!0),m=t(o.mapTypeControl,!0),y=t(o.scaleControl,!0),v=t(o.streetViewControl,!0),b=t(b,!0),w={},k={zoom:this.zoom,center:c,mapTypeId:l},x={panControl:f,zoomControl:p,zoomControlOptions:{style:google.maps.ZoomControlStyle[d],position:google.maps.ControlPosition[g]},mapTypeControl:m,scaleControl:y,streetViewControl:v,overviewMapControl:b};if("string"==typeof o.el||"string"==typeof o.div?-1<i.indexOf("#")?this.el=z(i,o.context):this.el=function(e,t){var o=e.replace(".","");return"jQuery"in this&&t?$("."+o,t)[0]:document.getElementsByClassName(o)[0]}.apply(this,[i,o.context]):this.el=i,void 0===this.el||null===this.el)throw"No element defined.";for(window.context_menu=window.context_menu||{},window.context_menu[h.el.id]={},this.controls=[],this.overlays=[],this.layers=[],this.singleLayers={},this.markers=[],this.polylines=[],this.routes=[],this.polygons=[],this.infoWindow=null,this.overlay_el=null,this.zoom=o.zoom,this.registered_events={},this.el.style.width=o.width||this.el.scrollWidth||this.el.offsetWidth,this.el.style.height=o.height||this.el.scrollHeight||this.el.offsetHeight,google.maps.visualRefresh=o.enableNewStyle,e=0;e<a.length;e++)delete o[a[e]];for(1!=o.disableDefaultUI&&(k=j(k,x)),w=j(k,o),e=0;e<n.length;e++)delete w[n[e]];for(e=0;e<r.length;e++)delete w[r[e]];this.map=new google.maps.Map(this.el,w),s&&(this.markerClusterer=s.apply(this,[this.map]));var L=function(t,o){var e="",n=window.context_menu[h.el.id][t];for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];e+='<li><a id="'+t+"_"+r+'" href="#">'+a.title+"</a></li>"}if(z("gmaps_context_menu")){var i=z("gmaps_context_menu");i.innerHTML=e;var s=i.getElementsByTagName("a"),l=s.length;for(r=0;r<l;r++){var c=s[r];google.maps.event.clearListeners(c,"click"),google.maps.event.addDomListenerOnce(c,"click",function(e){e.preventDefault(),n[this.id.replace(t+"_","")].action.apply(h,[o]),h.hideContextMenu()},!1)}var p=function(e){var t=0,o=0;if(e.offsetParent)for(;t+=e.offsetLeft,o+=e.offsetTop,e=e.offsetParent;);return[t,o]}.apply(this,[h.el]),u=p[0]+o.pixel.x-15,d=p[1]+o.pixel.y-15;i.style.left=u+"px",i.style.top=d+"px"}};this.buildContextMenu=function(o,n){if("marker"===o){n.pixel={};var r=new google.maps.OverlayView;r.setMap(h.map),r.draw=function(){var e=r.getProjection(),t=n.marker.getPosition();n.pixel=e.fromLatLngToContainerPixel(t),L(o,n)}}else L(o,n);var e=z("gmaps_context_menu");setTimeout(function(){e.style.display="block"},0)},this.setContextMenu=function(e){window.context_menu[h.el.id][e.control]={};var t,o=S.createElement("ul");for(t in e.options)if(e.options.hasOwnProperty(t)){var n=e.options[t];window.context_menu[h.el.id][e.control][n.name]={title:n.title,action:n.action}}o.id="gmaps_context_menu",o.style.display="none",o.style.position="absolute",o.style.minWidth="100px",o.style.background="white",o.style.listStyle="none",o.style.padding="8px",o.style.boxShadow="2px 2px 6px #ccc",z("gmaps_context_menu")||S.body.appendChild(o);var r=z("gmaps_context_menu");google.maps.event.addDomListener(r,"mouseout",function(e){e.relatedTarget&&this.contains(e.relatedTarget)||window.setTimeout(function(){r.style.display="none"},400)},!1)},this.hideContextMenu=function(){var e=z("gmaps_context_menu");e&&(e.style.display="none")};var _=function(e,t){google.maps.event.addListener(e,t,function(e){null==e&&(e=this),o[t].apply(this,[e]),h.hideContextMenu()})};google.maps.event.addListener(this.map,"zoom_changed",this.hideContextMenu);for(var T=0;T<n.length;T++){(M=n[T])in o&&_(this.map,M)}for(T=0;T<r.length;T++){var M;(M=r[T])in o&&_(this.map,M)}google.maps.event.addListener(this.map,"rightclick",function(e){o.rightclick&&o.rightclick.apply(this,[e]),null!=window.context_menu[h.el.id].map&&h.buildContextMenu("map",e)}),this.refresh=function(){google.maps.event.trigger(this.map,"resize")},this.fitZoom=function(){var e,t=[],o=this.markers.length;for(e=0;e<o;e++)"boolean"==typeof this.markers[e].visible&&this.markers[e].visible&&t.push(this.markers[e].getPosition());this.fitLatLngBounds(t)},this.fitLatLngBounds=function(e){var t,o=e.length,n=new google.maps.LatLngBounds;for(t=0;t<o;t++)n.extend(e[t]);this.map.fitBounds(n)},this.setCenter=function(e,t,o){this.map.panTo(new google.maps.LatLng(e,t)),o&&o()},this.getElement=function(){return this.el},this.zoomIn=function(e){e=e||1,this.zoom=this.map.getZoom()+e,this.map.setZoom(this.zoom)},this.zoomOut=function(e){e=e||1,this.zoom=this.map.getZoom()-e,this.map.setZoom(this.zoom)};var C,O=[];for(C in this.map)"function"!=typeof this.map[C]||this[C]||O.push(C);for(e=0;e<O.length;e++)!function(e,t,o){e[o]=function(){return t[o].apply(t,arguments)}}(this,this.map,O[e])});return c.prototype.createControl=function(o){var e=document.createElement("div");for(var t in e.style.cursor="pointer",!0!==o.disableDefaultStyles&&(e.style.fontFamily="Roboto, Arial, sans-serif",e.style.fontSize="11px",e.style.boxShadow="rgba(0, 0, 0, 0.298039) 0px 1px 4px -1px"),o.style)e.style[t]=o.style[t];for(var n in o.id&&(e.id=o.id),o.title&&(e.title=o.title),o.classes&&(e.className=o.classes),o.content&&("string"==typeof o.content?e.innerHTML=o.content:o.content instanceof HTMLElement&&e.appendChild(o.content)),o.position&&(e.position=google.maps.ControlPosition[o.position.toUpperCase()]),o.events)!function(e,t){google.maps.event.addDomListener(e,t,function(){o.events[t].apply(this,[this])})}(e,n);return e.index=1,e},c.prototype.addControl=function(e){var t=this.createControl(e);return this.controls.push(t),this.map.controls[t.position].push(t),t},c.prototype.removeControl=function(e){var t,o=null;for(t=0;t<this.controls.length;t++)this.controls[t]==e&&(o=this.controls[t].position,this.controls.splice(t,1));if(o)for(t=0;t<this.map.controls.length;t++){var n=this.map.controls[e.position];if(n.getAt(t)==e){n.removeAt(t);break}}return e},c.prototype.createMarker=function(n){if(null==n.lat&&null==n.lng&&null==n.position)throw"No latitude or longitude defined.";var t=this,e=n.details,o=n.fences,r=n.outside,a={position:new google.maps.LatLng(n.lat,n.lng),map:null},i=j(a,n);delete i.lat,delete i.lng,delete i.fences,delete i.outside;var s=new google.maps.Marker(i);if(s.fences=o,n.infoWindow){s.infoWindow=new google.maps.InfoWindow(n.infoWindow);for(var l=["closeclick","content_changed","domready","position_changed","zindex_changed"],c=0;c<l.length;c++)!function(e,t){n.infoWindow[t]&&google.maps.event.addListener(e,t,function(e){n.infoWindow[t].apply(this,[e])})}(s.infoWindow,l[c])}var p=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"],u=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"];for(c=0;c<p.length;c++)!function(e,t){n[t]&&google.maps.event.addListener(e,t,function(){n[t].apply(this,[this])})}(s,p[c]);for(c=0;c<u.length;c++)!function(t,e,o){n[o]&&google.maps.event.addListener(e,o,function(e){e.pixel||(e.pixel=t.getProjection().fromLatLngToPoint(e.latLng)),n[o].apply(this,[e])})}(this.map,s,u[c]);return google.maps.event.addListener(s,"click",function(){this.details=e,n.click&&n.click.apply(this,[this]),s.infoWindow&&(t.hideInfoWindows(),s.infoWindow.open(t.map,s))}),google.maps.event.addListener(s,"rightclick",function(e){e.marker=this,n.rightclick&&n.rightclick.apply(this,[e]),null!=window.context_menu[t.el.id].marker&&t.buildContextMenu("marker",e)}),s.fences&&google.maps.event.addListener(s,"dragend",function(){t.checkMarkerGeofence(s,function(e,t){r(e,t)})}),s},c.prototype.addMarker=function(e){var t;if(e.hasOwnProperty("gm_accessors_"))t=e;else{if(!(e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")||e.position))throw"No latitude or longitude defined.";t=this.createMarker(e)}return t.setMap(this.map),this.markerClusterer&&this.markerClusterer.addMarker(t),this.markers.push(t),c.fire("marker_added",t,this),t},c.prototype.addMarkers=function(e){for(var t,o=0;t=e[o];o++)this.addMarker(t);return this.markers},c.prototype.hideInfoWindows=function(){for(var e,t=0;e=this.markers[t];t++)e.infoWindow&&e.infoWindow.close()},c.prototype.removeMarker=function(e){for(var t=0;t<this.markers.length;t++)if(this.markers[t]===e){this.markers[t].setMap(null),this.markers.splice(t,1),this.markerClusterer&&this.markerClusterer.removeMarker(e),c.fire("marker_removed",e,this);break}return e},c.prototype.removeMarkers=function(e){var t=[];if(void 0===e){for(var o=0;o<this.markers.length;o++){(r=this.markers[o]).setMap(null),c.fire("marker_removed",r,this)}this.markerClusterer&&this.markerClusterer.clearMarkers&&this.markerClusterer.clearMarkers(),this.markers=t}else{for(o=0;o<e.length;o++){var n=this.markers.indexOf(e[o]);if(-1<n)(r=this.markers[n]).setMap(null),this.markerClusterer&&this.markerClusterer.removeMarker(r),c.fire("marker_removed",r,this)}for(o=0;o<this.markers.length;o++){var r;null!=(r=this.markers[o]).getMap()&&t.push(r)}this.markers=t}},c.prototype.drawOverlay=function(i){var s=new google.maps.OverlayView,a=!0;return s.setMap(this.map),null!=i.auto_show&&(a=i.auto_show),s.onAdd=function(){var e=document.createElement("div");e.style.borderStyle="none",e.style.borderWidth="0px",e.style.position="absolute",e.style.zIndex=100,e.innerHTML=i.content,s.el=e,i.layer||(i.layer="overlayLayer");var t,o,n=this.getPanes(),r=["contextmenu","DOMMouseScroll","dblclick","mousedown"];n[i.layer].appendChild(e);for(var a=0;a<r.length;a++)t=e,o=r[a],google.maps.event.addDomListener(t,o,function(e){-1!=navigator.userAgent.toLowerCase().indexOf("msie")&&document.all?(e.cancelBubble=!0,e.returnValue=!1):e.stopPropagation()});i.click&&(n.overlayMouseTarget.appendChild(s.el),google.maps.event.addDomListener(s.el,"click",function(){i.click.apply(s,[s])})),google.maps.event.trigger(this,"ready")},s.draw=function(){var e=this.getProjection().fromLatLngToDivPixel(new google.maps.LatLng(i.lat,i.lng));i.horizontalOffset=i.horizontalOffset||0,i.verticalOffset=i.verticalOffset||0;var t=s.el,o=t.children[0],n=o.clientHeight,r=o.clientWidth;switch(i.verticalAlign){case"top":t.style.top=e.y-n+i.verticalOffset+"px";break;default:case"middle":t.style.top=e.y-n/2+i.verticalOffset+"px";break;case"bottom":t.style.top=e.y+i.verticalOffset+"px"}switch(i.horizontalAlign){case"left":t.style.left=e.x-r+i.horizontalOffset+"px";break;default:case"center":t.style.left=e.x-r/2+i.horizontalOffset+"px";break;case"right":t.style.left=e.x+i.horizontalOffset+"px"}t.style.display=a?"block":"none",a||i.show.apply(this,[t])},s.onRemove=function(){var e=s.el;i.remove?i.remove.apply(this,[e]):(s.el.parentNode.removeChild(s.el),s.el=null)},this.overlays.push(s),s},c.prototype.removeOverlay=function(e){for(var t=0;t<this.overlays.length;t++)if(this.overlays[t]===e){this.overlays[t].setMap(null),this.overlays.splice(t,1);break}},c.prototype.removeOverlays=function(){for(var e,t=0;e=this.overlays[t];t++)e.setMap(null);this.overlays=[]},c.prototype.drawPolyline=function(o){var e=[],t=o.path;if(t.length)if(void 0===t[0][0])e=t;else for(var n,r=0;n=t[r];r++)e.push(new google.maps.LatLng(n[0],n[1]));var a={map:this.map,path:e,strokeColor:o.strokeColor,strokeOpacity:o.strokeOpacity,strokeWeight:o.strokeWeight,geodesic:o.geodesic,clickable:!0,editable:!1,visible:!0};o.hasOwnProperty("clickable")&&(a.clickable=o.clickable),o.hasOwnProperty("editable")&&(a.editable=o.editable),o.hasOwnProperty("icons")&&(a.icons=o.icons),o.hasOwnProperty("zIndex")&&(a.zIndex=o.zIndex);for(var i=new google.maps.Polyline(a),s=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],l=0;l<s.length;l++)!function(e,t){o[t]&&google.maps.event.addListener(e,t,function(e){o[t].apply(this,[e])})}(i,s[l]);return this.polylines.push(i),c.fire("polyline_added",i,this),i},c.prototype.removePolyline=function(e){for(var t=0;t<this.polylines.length;t++)if(this.polylines[t]===e){this.polylines[t].setMap(null),this.polylines.splice(t,1),c.fire("polyline_removed",e,this);break}},c.prototype.removePolylines=function(){for(var e,t=0;e=this.polylines[t];t++)e.setMap(null);this.polylines=[]},c.prototype.drawCircle=function(o){delete(o=j({map:this.map,center:new google.maps.LatLng(o.lat,o.lng)},o)).lat,delete o.lng;for(var e=new google.maps.Circle(o),t=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],n=0;n<t.length;n++)!function(e,t){o[t]&&google.maps.event.addListener(e,t,function(e){o[t].apply(this,[e])})}(e,t[n]);return this.polygons.push(e),e},c.prototype.drawRectangle=function(o){o=j({map:this.map},o);var e=new google.maps.LatLngBounds(new google.maps.LatLng(o.bounds[0][0],o.bounds[0][1]),new google.maps.LatLng(o.bounds[1][0],o.bounds[1][1]));o.bounds=e;for(var t=new google.maps.Rectangle(o),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],r=0;r<n.length;r++)!function(e,t){o[t]&&google.maps.event.addListener(e,t,function(e){o[t].apply(this,[e])})}(t,n[r]);return this.polygons.push(t),t},c.prototype.drawPolygon=function(o){var e=!1;o.hasOwnProperty("useGeoJSON")&&(e=o.useGeoJSON),delete o.useGeoJSON,o=j({map:this.map},o),0==e&&(o.paths=[o.paths.slice(0)]),0<o.paths.length&&0<o.paths[0].length&&(o.paths=i(a(o.paths,s,e)));for(var t=new google.maps.Polygon(o),n=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],r=0;r<n.length;r++)!function(e,t){o[t]&&google.maps.event.addListener(e,t,function(e){o[t].apply(this,[e])})}(t,n[r]);return this.polygons.push(t),c.fire("polygon_added",t,this),t},c.prototype.removePolygon=function(e){for(var t=0;t<this.polygons.length;t++)if(this.polygons[t]===e){this.polygons[t].setMap(null),this.polygons.splice(t,1),c.fire("polygon_removed",e,this);break}},c.prototype.removePolygons=function(){for(var e,t=0;e=this.polygons[t];t++)e.setMap(null);this.polygons=[]},c.prototype.getFromFusionTables=function(e){var o=e.events;delete e.events;var t=e,n=new google.maps.FusionTablesLayer(t);for(var r in o)!function(e,t){google.maps.event.addListener(e,t,function(e){o[t].apply(this,[e])})}(n,r);return this.layers.push(n),n},c.prototype.loadFromFusionTables=function(e){var t=this.getFromFusionTables(e);return t.setMap(this.map),t},c.prototype.getFromKML=function(e){var t=e.url,o=e.events;delete e.url,delete e.events;var n=e,r=new google.maps.KmlLayer(t,n);for(var a in o)!function(e,t){google.maps.event.addListener(e,t,function(e){o[t].apply(this,[e])})}(r,a);return this.layers.push(r),r},c.prototype.loadFromKML=function(e){var t=this.getFromKML(e);return t.setMap(this.map),t},c.prototype.addLayer=function(e,t){var o;switch(t=t||{},e){case"weather":this.singleLayers.weather=o=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=o=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=o=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=o=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=o=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=o=new google.maps.panoramio.PanoramioLayer,o.setTag(t.filter),delete t.filter,t.click&&google.maps.event.addListener(o,"click",function(e){t.click(e),delete t.click});break;case"places":if(this.singleLayers.places=o=new google.maps.places.PlacesService(this.map),t.search||t.nearbySearch||t.radarSearch){var n={bounds:t.bounds||null,keyword:t.keyword||null,location:t.location||null,name:t.name||null,radius:t.radius||null,rankBy:t.rankBy||null,types:t.types||null};t.radarSearch&&o.radarSearch(n,t.radarSearch),t.search&&o.search(n,t.search),t.nearbySearch&&o.nearbySearch(n,t.nearbySearch)}if(t.textSearch){var r={bounds:t.bounds||null,location:t.location||null,query:t.query||null,radius:t.radius||null};o.textSearch(r,t.textSearch)}}return void 0!==o?("function"==typeof o.setOptions&&o.setOptions(t),"function"==typeof o.setMap&&o.setMap(this.map),o):void 0},c.prototype.removeLayer=function(e){if("string"==typeof e&&void 0!==this.singleLayers[e])this.singleLayers[e].setMap(null),delete this.singleLayers[e];else for(var t=0;t<this.layers.length;t++)if(this.layers[t]===e){this.layers[t].setMap(null),this.layers.splice(t,1);break}},c.prototype.getRoutes=function(n){switch(n.travelMode){case"bicycling":t=google.maps.TravelMode.BICYCLING;break;case"transit":t=google.maps.TravelMode.TRANSIT;break;case"driving":t=google.maps.TravelMode.DRIVING;break;default:t=google.maps.TravelMode.WALKING}o="imperial"===n.unitSystem?google.maps.UnitSystem.IMPERIAL:google.maps.UnitSystem.METRIC;var e=j({avoidHighways:!1,avoidTolls:!1,optimizeWaypoints:!1,waypoints:[]},n);e.origin=/string/.test(typeof n.origin)?n.origin:new google.maps.LatLng(n.origin[0],n.origin[1]),e.destination=/string/.test(typeof n.destination)?n.destination:new google.maps.LatLng(n.destination[0],n.destination[1]),e.travelMode=t,e.unitSystem=o,delete e.callback,delete e.error;var r=[];(new google.maps.DirectionsService).route(e,function(e,t){if(t===google.maps.DirectionsStatus.OK){for(var o in e.routes)e.routes.hasOwnProperty(o)&&r.push(e.routes[o]);n.callback&&n.callback(r,e,t)}else n.error&&n.error(e,t)})},c.prototype.removeRoutes=function(){this.routes.length=0},c.prototype.getElevations=function(e){0<(e=j({locations:[],path:!1,samples:256},e)).locations.length&&0<e.locations[0].length&&(e.locations=i(a([e.locations],s,!1)));var o=e.callback;delete e.callback;var t=new google.maps.ElevationService;if(e.path){var n={path:e.locations,samples:e.samples};t.getElevationAlongPath(n,function(e,t){o&&"function"==typeof o&&o(e,t)})}else delete e.path,delete e.samples,t.getElevationForLocations(e,function(e,t){o&&"function"==typeof o&&o(e,t)})},c.prototype.cleanRoute=c.prototype.removePolylines,c.prototype.renderRoute=function(e,t){var n,o="string"==typeof t.panel?document.getElementById(t.panel.replace("#","")):t.panel;t.panel=o,t=j({map:this.map},t),n=new google.maps.DirectionsRenderer(t),this.getRoutes({origin:e.origin,destination:e.destination,travelMode:e.travelMode,waypoints:e.waypoints,unitSystem:e.unitSystem,error:e.error,avoidHighways:e.avoidHighways,avoidTolls:e.avoidTolls,optimizeWaypoints:e.optimizeWaypoints,callback:function(e,t,o){o===google.maps.DirectionsStatus.OK&&n.setDirections(t)}})},c.prototype.drawRoute=function(o){var n=this;this.getRoutes({origin:o.origin,destination:o.destination,travelMode:o.travelMode,waypoints:o.waypoints,unitSystem:o.unitSystem,error:o.error,avoidHighways:o.avoidHighways,avoidTolls:o.avoidTolls,optimizeWaypoints:o.optimizeWaypoints,callback:function(e){if(0<e.length){var t={path:e[e.length-1].overview_path,strokeColor:o.strokeColor,strokeOpacity:o.strokeOpacity,strokeWeight:o.strokeWeight};o.hasOwnProperty("icons")&&(t.icons=o.icons),n.drawPolyline(t),o.callback&&o.callback(e[e.length-1])}}})},c.prototype.travelRoute=function(a){if(a.origin&&a.destination)this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,unitSystem:a.unitSystem,error:a.error,callback:function(e){if(0<e.length&&a.start&&a.start(e[e.length-1]),0<e.length&&a.step){var t=e[e.length-1];if(0<t.legs.length)for(var o,n=t.legs[0].steps,r=0;o=n[r];r++)o.step_number=r,a.step(o,t.legs[0].steps.length-1)}0<e.length&&a.end&&a.end(e[e.length-1])}});else if(a.route&&0<a.route.legs.length)for(var e,t=a.route.legs[0].steps,o=0;e=t[o];o++)e.step_number=o,a.step(e)},c.prototype.drawSteppedRoute=function(i){var s=this;if(i.origin&&i.destination)this.getRoutes({origin:i.origin,destination:i.destination,travelMode:i.travelMode,waypoints:i.waypoints,error:i.error,callback:function(e){if(0<e.length&&i.start&&i.start(e[e.length-1]),0<e.length&&i.step){var t=e[e.length-1];if(0<t.legs.length)for(var o,n=t.legs[0].steps,r=0;o=n[r];r++){o.step_number=r;var a={path:o.path,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight};i.hasOwnProperty("icons")&&(a.icons=i.icons),s.drawPolyline(a),i.step(o,t.legs[0].steps.length-1)}}0<e.length&&i.end&&i.end(e[e.length-1])}});else if(i.route&&0<i.route.legs.length)for(var e,t=i.route.legs[0].steps,o=0;e=t[o];o++){e.step_number=o;var n={path:e.path,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight};i.hasOwnProperty("icons")&&(n.icons=i.icons),s.drawPolyline(n),i.step(e)}},c.Route=function(e){this.origin=e.origin,this.destination=e.destination,this.waypoints=e.waypoints,this.map=e.map,this.route=e.route,this.step_count=0,this.steps=this.route.legs[0].steps,this.steps_length=this.steps.length;var t={path:new google.maps.MVCArray,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight};e.hasOwnProperty("icons")&&(t.icons=e.icons),this.polyline=this.map.drawPolyline(t).getPath()},c.Route.prototype.getRoute=function(t){var o=this;this.map.getRoutes({origin:this.origin,destination:this.destination,travelMode:t.travelMode,waypoints:this.waypoints||[],error:t.error,callback:function(){o.route=e[0],t.callback&&t.callback.call(o)}})},c.Route.prototype.back=function(){if(0<this.step_count){this.step_count--;var e=this.route.legs[0].steps[this.step_count].path;for(var t in e)e.hasOwnProperty(t)&&this.polyline.pop()}},c.Route.prototype.forward=function(){if(this.step_count<this.steps_length){var e=this.route.legs[0].steps[this.step_count].path;for(var t in e)e.hasOwnProperty(t)&&this.polyline.push(e[t]);this.step_count++}},c.prototype.checkGeofence=function(e,t,o){return o.containsLatLng(new google.maps.LatLng(e,t))},c.prototype.checkMarkerGeofence=function(e,t){if(e.fences)for(var o,n=0;o=e.fences[n];n++){var r=e.getPosition();this.checkGeofence(r.lat(),r.lng(),o)||t(e,o)}},c.prototype.toImage=function(e){e=e||{};var t={};if(t.size=e.size||[this.el.clientWidth,this.el.clientHeight],t.lat=this.getCenter().lat(),t.lng=this.getCenter().lng(),0<this.markers.length){t.markers=[];for(var o=0;o<this.markers.length;o++)t.markers.push({lat:this.markers[o].getPosition().lat(),lng:this.markers[o].getPosition().lng()})}if(0<this.polylines.length){var n=this.polylines[0];t.polyline={},t.polyline.path=google.maps.geometry.encoding.encodePath(n.getPath()),t.polyline.strokeColor=n.strokeColor,t.polyline.strokeOpacity=n.strokeOpacity,t.polyline.strokeWeight=n.strokeWeight}return c.staticMapURL(t)},c.staticMapURL=function(e){function t(e,t){if("#"===e[0]&&(e=e.replace("#","0x"),t)){if(t=parseFloat(t),0===(t=Math.min(1,Math.max(t,0))))return"0x00000000";1===(t=(255*t).toString(16)).length&&(t+=t),e=e.slice(0,8)+t}return e}var o,n=[],r=("file:"===location.protocol?"http:":location.protocol)+"//maps.googleapis.com/maps/api/staticmap";e.url&&(r=e.url,delete e.url),r+="?";var a=e.markers;delete e.markers,!a&&e.marker&&(a=[e.marker],delete e.marker);var i=e.styles;delete e.styles;var s=e.polyline;if(delete e.polyline,e.center)n.push("center="+e.center),delete e.center;else if(e.address)n.push("center="+e.address),delete e.address;else if(e.lat)n.push(["center=",e.lat,",",e.lng].join("")),delete e.lat,delete e.lng;else if(e.visible){var l=encodeURI(e.visible.join("|"));n.push("visible="+l)}var c=e.size;c?(c.join&&(c=c.join("x")),delete e.size):c="630x300",n.push("size="+c),e.zoom||!1===e.zoom||(e.zoom=15);var p=!e.hasOwnProperty("sensor")||!!e.sensor;for(var u in delete e.sensor,n.push("sensor="+p),e)e.hasOwnProperty(u)&&n.push(u+"="+e[u]);if(a)for(var d,h,g=0;o=a[g];g++){for(var u in d=[],o.size&&"normal"!==o.size?(d.push("size:"+o.size),delete o.size):o.icon&&(d.push("icon:"+encodeURI(o.icon)),delete o.icon),o.color&&(d.push("color:"+o.color.replace("#","0x")),delete o.color),o.label&&(d.push("label:"+o.label[0].toUpperCase()),delete o.label),h=o.address?o.address:o.lat+","+o.lng,delete o.address,delete o.lat,delete o.lng,o)o.hasOwnProperty(u)&&d.push(u+":"+o[u]);d.length||0===g?(d.push(h),d=d.join("|"),n.push("markers="+encodeURI(d))):(d=n.pop()+encodeURI("|"+h),n.push(d))}if(i)for(g=0;g<i.length;g++){var f=[];i[g].featureType&&f.push("feature:"+i[g].featureType.toLowerCase()),i[g].elementType&&f.push("element:"+i[g].elementType.toLowerCase());for(var m=0;m<i[g].stylers.length;m++)for(var y in i[g].stylers[m]){var v=i[g].stylers[m][y];("hue"==y||"color"==y)&&(v="0x"+v.substring(1)),f.push(y+":"+v)}var b=f.join("|");""!=b&&n.push("style="+b)}if(s){if(o=s,s=[],o.strokeWeight&&s.push("weight:"+parseInt(o.strokeWeight,10)),o.strokeColor){var w=t(o.strokeColor,o.strokeOpacity);s.push("color:"+w)}if(o.fillColor){var k=t(o.fillColor,o.fillOpacity);s.push("fillcolor:"+k)}var x=o.path;if(x.join){var L;for(m=0;L=x[m];m++)s.push(L.join(","))}else s.push("enc:"+x);s=s.join("|"),n.push("path="+encodeURI(s))}var _=window.devicePixelRatio||1;return n.push("scale="+_),r+(n=n.join("&"))},c.prototype.addMapType=function(e,t){if(!t.hasOwnProperty("getTileUrl")||"function"!=typeof t.getTileUrl)throw"'getTileUrl' function required.";t.tileSize=t.tileSize||new google.maps.Size(256,256);var o=new google.maps.ImageMapType(t);this.map.mapTypes.set(e,o)},c.prototype.addOverlayMapType=function(e){if(!e.hasOwnProperty("getTile")||"function"!=typeof e.getTile)throw"'getTile' function required.";var t=e.index;delete e.index,this.map.overlayMapTypes.insertAt(t,e)},c.prototype.removeOverlayMapType=function(e){this.map.overlayMapTypes.removeAt(e)},c.prototype.addStyle=function(e){var t=new google.maps.StyledMapType(e.styles,{name:e.styledMapName});this.map.mapTypes.set(e.mapTypeId,t)},c.prototype.setStyle=function(e){this.map.setMapTypeId(e)},c.prototype.createPanorama=function(e){return e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")||(e.lat=this.getCenter().lat(),e.lng=this.getCenter().lng()),this.panorama=c.createPanorama(e),this.map.setStreetView(this.panorama),this.panorama},c.createPanorama=function(o){var e=z(o.el,o.context);o.position=new google.maps.LatLng(o.lat,o.lng),delete o.el,delete o.context,delete o.lat,delete o.lng;for(var t=["closeclick","links_changed","pano_changed","position_changed","pov_changed","resize","visible_changed"],n=j({visible:!0},o),r=0;r<t.length;r++)delete n[t[r]];var a=new google.maps.StreetViewPanorama(e,n);for(r=0;r<t.length;r++)!function(e,t){o[t]&&google.maps.event.addListener(e,t,function(){o[t].apply(this)})}(a,t[r]);return a},c.prototype.on=function(e,t){return c.on(e,this,t)},c.prototype.off=function(e){c.off(e,this)},c.prototype.once=function(e,t){return c.once(e,this,t)},c.custom_events=["marker_added","marker_removed","polyline_added","polyline_removed","polygon_added","polygon_removed","geolocated","geolocation_failed"],c.on=function(e,t,o){if(-1==c.custom_events.indexOf(e))return t instanceof c&&(t=t.map),google.maps.event.addListener(t,e,o);var n={handler:o,eventName:e};return t.registered_events[e]=t.registered_events[e]||[],t.registered_events[e].push(n),n},c.off=function(e,t){-1==c.custom_events.indexOf(e)?(t instanceof c&&(t=t.map),google.maps.event.clearListeners(t,e)):t.registered_events[e]=[]},c.once=function(e,t,o){return-1==c.custom_events.indexOf(e)?(t instanceof c&&(t=t.map),google.maps.event.addListenerOnce(t,e,o)):void 0},c.fire=function(e,t,o){if(-1==c.custom_events.indexOf(e))google.maps.event.trigger(t,e,Array.prototype.slice.apply(arguments).slice(2));else if(e in o.registered_events)for(var n=o.registered_events[e],r=0;r<n.length;r++)a=n[r].handler,i=o,s=t,a.apply(i,[s]);var a,i,s},c.geolocate=function(t){var o=t.always||t.complete;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){t.success(e),o&&o()},function(e){t.error(e),o&&o()},t.options):(t.not_supported(),o&&o())},c.geocode=function(e){this.geocoder=new google.maps.Geocoder;var o=e.callback;e.hasOwnProperty("lat")&&e.hasOwnProperty("lng")&&(e.latLng=new google.maps.LatLng(e.lat,e.lng)),delete e.lat,delete e.lng,delete e.callback,this.geocoder.geocode(e,function(e,t){o(e,t)})},"object"==typeof window.google&&window.google.maps&&(google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(e){for(var t,o=new google.maps.LatLngBounds,n=this.getPaths(),r=0;r<n.getLength();r++){t=n.getAt(r);for(var a=0;a<t.getLength();a++)o.extend(t.getAt(a))}return o}),google.maps.Polygon.prototype.containsLatLng||(google.maps.Polygon.prototype.containsLatLng=function(e){var t=this.getBounds();if(null!==t&&!t.contains(e))return!1;for(var o=!1,n=this.getPaths().getLength(),r=0;r<n;r++)for(var a=this.getPaths().getAt(r),i=a.getLength(),s=i-1,l=0;l<i;l++){var c=a.getAt(l),p=a.getAt(s);(c.lng()<e.lng()&&p.lng()>=e.lng()||p.lng()<e.lng()&&c.lng()>=e.lng())&&c.lat()+(e.lng()-c.lng())/(p.lng()-c.lng())*(p.lat()-c.lat())<e.lat()&&(o=!o),s=l}return o}),google.maps.Circle.prototype.containsLatLng||(google.maps.Circle.prototype.containsLatLng=function(e){return!google.maps.geometry||google.maps.geometry.spherical.computeDistanceBetween(this.getCenter(),e)<=this.getRadius()}),google.maps.Rectangle.prototype.containsLatLng=function(e){return this.getBounds().contains(e)},google.maps.LatLngBounds.prototype.containsLatLng=function(e){return this.contains(e)},google.maps.Marker.prototype.setFences=function(e){this.fences=e},google.maps.Marker.prototype.addFence=function(e){this.fences.push(e)},google.maps.Marker.prototype.getId=function(){return this.__gm_id}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if(0===o)return-1;var n=0;if(1<arguments.length&&((n=Number(arguments[1]))!=n?n=0:0!=n&&n!=1/0&&n!=-1/0&&(n=(0<n||-1)*Math.floor(Math.abs(n)))),o<=n)return-1;for(var r=0<=n?n:Math.max(o-Math.abs(n),0);r<o;r++)if(r in t&&t[r]===e)return r;return-1}),c}),function(D){var y={};y.fileapi=void 0!==D("<input type='file'/>").get(0).files,y.formdata=void 0!==window.FormData;var A=!!D.fn.prop;function o(e){var t=e.data;e.isDefaultPrevented()||(e.preventDefault(),D(this).ajaxSubmit(t))}function n(e){var t=e.target,o=D(t);if(!o.is("[type=submit],[type=image]")){var n=o.closest("[type=submit]");if(0===n.length)return;t=n[0]}var r=this;if("image"==(r.clk=t).type)if(void 0!==e.offsetX)r.clk_x=e.offsetX,r.clk_y=e.offsetY;else if("function"==typeof D.fn.offset){var a=o.offset();r.clk_x=e.pageX-a.left,r.clk_y=e.pageY-a.top}else r.clk_x=e.pageX-t.offsetLeft,r.clk_y=e.pageY-t.offsetTop;setTimeout(function(){r.clk=r.clk_x=r.clk_y=null},100)}function I(){if(D.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}D.fn.attr2=function(){if(!A)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},D.fn.ajaxSubmit=function(S){if(!this.length)return I("ajaxSubmit: skipping submit process - no element selected"),this;var P,e,t,j=this;"function"==typeof S&&(S={success:S}),P=this.attr2("method"),(t=(t="string"==typeof(e=this.attr2("action"))?D.trim(e):"")||window.location.href||"")&&(t=(t.match(/^([^#]+)/)||[])[1]),S=D.extend(!0,{url:t,success:D.ajaxSettings.success,type:P||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},S);var o={};if(this.trigger("form-pre-serialize",[this,S,o]),o.veto)return I("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(S.beforeSerialize&&!1===S.beforeSerialize(this,S))return I("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var n=S.traditional;void 0===n&&(n=D.ajaxSettings.traditional);var r,z=[],a=this.formToArray(S.semantic,z);if(S.data&&(S.extraData=S.data,r=D.param(S.data,n)),S.beforeSubmit&&!1===S.beforeSubmit(a,this,S))return I("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[a,this,S,o]),o.veto)return I("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var i=D.param(a,n);r&&(i=i?i+"&"+r:r),"GET"==S.type.toUpperCase()?(S.url+=(0<=S.url.indexOf("?")?"&":"?")+i,S.data=null):S.data=i;var s=[];if(S.resetForm&&s.push(function(){j.resetForm()}),S.clearForm&&s.push(function(){j.clearForm(S.includeHidden)}),!S.dataType&&S.target){var l=S.success||function(){};s.push(function(e){var t=S.replaceTarget?"replaceWith":"html";D(S.target)[t](e).each(l,arguments)})}else S.success&&s.push(S.success);S.success=function(e,t,o){for(var n=S.context||this,r=0,a=s.length;r<a;r++)s[r].apply(n,[e,t,o||j,j])};var c=0<D('input[type=file]:enabled[value!=""]',this).length,p="multipart/form-data",u=j.attr("enctype")==p||j.attr("encoding")==p,d=y.fileapi&&y.formdata;I("fileAPI :"+d);var h,g=(c||u)&&!d;!1!==S.iframe&&(S.iframe||g)?S.closeKeepAlive?D.get(S.closeKeepAlive,function(){h=m(a)}):h=m(a):h=(c||u)&&d?function(e){for(var o=new FormData,t=0;t<e.length;t++)o.append(e[t].name,e[t].value);if(S.extraData){var n=function(e){var t,o,n=D.param(e).split("&"),r=n.length,a=[];for(t=0;t<r;t++)n[t]=n[t].replace(/\+/g," "),o=n[t].split("="),a.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])]);return a}(S.extraData);for(t=0;t<n.length;t++)n[t]&&o.append(n[t][0],n[t][1])}S.data=null;var r=D.extend(!0,{},D.ajaxSettings,S,{contentType:!1,processData:!1,cache:!1,type:P||"POST"});S.uploadProgress&&(r.xhr=function(){var e=jQuery.ajaxSettings.xhr();return e.upload&&e.upload.addEventListener("progress",function(e){var t=0,o=e.loaded||e.position,n=e.total;e.lengthComputable&&(t=Math.ceil(o/n*100)),S.uploadProgress(e,o,n,t)},!1),e}),r.data=null;var a=r.beforeSend;return r.beforeSend=function(e,t){t.data=o,a&&a.call(this,e,t)},D.ajax(r)}(a):D.ajax(S),j.removeData("jqxhr").data("jqxhr",h);for(var f=0;f<z.length;f++)z[f]=null;return this.trigger("form-submit-notify",[this,S]),this;function m(e){var t,o,p,u,r,d,h,g,n,a,f,m,i=j[0],y=D.Deferred();if(e)for(o=0;o<z.length;o++)t=D(z[o]),A?t.prop("disabled",!1):t.removeAttr("disabled");if((p=D.extend(!0,{},D.ajaxSettings,S)).context=p.context||p,r="jqFormIO"+(new Date).getTime(),p.iframeTarget?(a=(d=D(p.iframeTarget)).attr2("name"))?r=a:d.attr2("name",r):(d=D('<iframe name="'+r+'" src="'+p.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),h=d[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var t="timeout"===e?"timeout":"aborted";I("aborting upload... "+t),this.aborted=1;try{h.contentWindow.document.execCommand&&h.contentWindow.document.execCommand("Stop")}catch(e){}d.attr("src",p.iframeSrc),g.error=t,p.error&&p.error.call(p.context,g,t,e),u&&D.event.trigger("ajaxError",[g,p,t]),p.complete&&p.complete.call(p.context,g,t)}},(u=p.global)&&0==D.active++&&D.event.trigger("ajaxStart"),u&&D.event.trigger("ajaxSend",[g,p]),p.beforeSend&&!1===p.beforeSend.call(p.context,g,p))return p.global&&D.active--,y.reject(),y;if(g.aborted)return y.reject(),y;(n=i.clk)&&(a=n.name)&&!n.disabled&&(p.extraData=p.extraData||{},p.extraData[a]=n.value,"image"==n.type&&(p.extraData[a+".x"]=i.clk_x,p.extraData[a+".y"]=i.clk_y));var v=1,b=2;function w(t){var o=null;try{t.contentWindow&&(o=t.contentWindow.document)}catch(t){I("cannot get iframe.contentWindow document: "+t)}if(o)return o;try{o=t.contentDocument?t.contentDocument:t.document}catch(e){I("cannot get iframe.contentDocument: "+e),o=t.document}return o}var s=D("meta[name=csrf-token]").attr("content"),l=D("meta[name=csrf-param]").attr("content");function c(){var e=j.attr2("target"),t=j.attr2("action");i.setAttribute("target",r),P||i.setAttribute("method","POST"),t!=p.url&&i.setAttribute("action",p.url),p.skipEncodingOverride||P&&!/post/i.test(P)||j.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),p.timeout&&(m=setTimeout(function(){f=!0,T(v)},p.timeout));var o=[];try{if(p.extraData)for(var n in p.extraData)p.extraData.hasOwnProperty(n)&&(D.isPlainObject(p.extraData[n])&&p.extraData[n].hasOwnProperty("name")&&p.extraData[n].hasOwnProperty("value")?o.push(D('<input type="hidden" name="'+p.extraData[n].name+'">').val(p.extraData[n].value).appendTo(i)[0]):o.push(D('<input type="hidden" name="'+n+'">').val(p.extraData[n]).appendTo(i)[0]));p.iframeTarget||(d.appendTo("body"),h.attachEvent?h.attachEvent("onload",T):h.addEventListener("load",T,!1)),setTimeout(function e(){try{var t=w(h).readyState;I("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){I("Server abort: ",e," (",e.name,")"),T(b),m&&clearTimeout(m),m=void 0}},15);try{i.submit()}catch(e){document.createElement("form").submit.apply(i)}}finally{i.setAttribute("action",t),e?i.setAttribute("target",e):j.removeAttr("target"),D(o).remove()}}l&&s&&(p.extraData=p.extraData||{},p.extraData[l]=s),p.forceSync?c():setTimeout(c,10);var k,x,L,_=50;function T(e){if(!g.aborted&&!L){if((x=w(h))||(I("cannot access response document"),e=b),e===v&&g)return g.abort("timeout"),void y.reject(g,"timeout");if(e==b&&g)return g.abort("server abort"),void y.reject(g,"error","server abort");if(x&&x.location.href!=p.iframeSrc||f){h.detachEvent?h.detachEvent("onload",T):h.removeEventListener("load",T,!1);var t,o="success";try{if(f)throw"timeout";var n="xml"==p.dataType||x.XMLDocument||D.isXMLDoc(x);if(I("isXml="+n),!n&&window.opera&&(null===x.body||!x.body.innerHTML)&&--_)return I("requeing onLoad callback, DOM not available"),void setTimeout(T,250);var r=x.body?x.body:x.documentElement;g.responseText=r?r.innerHTML:null,g.responseXML=x.XMLDocument?x.XMLDocument:x,n&&(p.dataType="xml"),g.getResponseHeader=function(e){return{"content-type":p.dataType}[e]},r&&(g.status=Number(r.getAttribute("status"))||g.status,g.statusText=r.getAttribute("statusText")||g.statusText);var a=(p.dataType||"").toLowerCase(),i=/(json|script|text)/.test(a);if(i||p.textarea){var s=x.getElementsByTagName("textarea")[0];if(s)g.responseText=s.value,g.status=Number(s.getAttribute("status"))||g.status,g.statusText=s.getAttribute("statusText")||g.statusText;else if(i){var l=x.getElementsByTagName("pre")[0],c=x.getElementsByTagName("body")[0];l?g.responseText=l.textContent?l.textContent:l.innerText:c&&(g.responseText=c.textContent?c.textContent:c.innerText)}}else"xml"==a&&!g.responseXML&&g.responseText&&(g.responseXML=M(g.responseText));try{k=O(g,a,p)}catch(e){o="parsererror",g.error=t=e||o}}catch(e){I("error caught: ",e),o="error",g.error=t=e||o}g.aborted&&(I("upload aborted"),o=null),g.status&&(o=200<=g.status&&g.status<300||304===g.status?"success":"error"),"success"===o?(p.success&&p.success.call(p.context,k,"success",g),y.resolve(g.responseText,"success",g),u&&D.event.trigger("ajaxSuccess",[g,p])):o&&(void 0===t&&(t=g.statusText),p.error&&p.error.call(p.context,g,o,t),y.reject(g,"error",t),u&&D.event.trigger("ajaxError",[g,p,t])),u&&D.event.trigger("ajaxComplete",[g,p]),u&&!--D.active&&D.event.trigger("ajaxStop"),p.complete&&p.complete.call(p.context,g,o),L=!0,p.timeout&&clearTimeout(m),setTimeout(function(){p.iframeTarget||d.remove(),g.responseXML=null},100)}}}var M=D.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=D.parseJSON||function(e){return window.eval("("+e+")")},O=function(e,t,o){var n=e.getResponseHeader("content-type")||"",r="xml"===t||!t&&0<=n.indexOf("xml"),a=r?e.responseXML:e.responseText;return r&&"parsererror"===a.documentElement.nodeName&&D.error&&D.error("parsererror"),o&&o.dataFilter&&(a=o.dataFilter(a,t)),"string"==typeof a&&("json"===t||!t&&0<=n.indexOf("json")?a=C(a):("script"===t||!t&&0<=n.indexOf("javascript"))&&D.globalEval(a)),a};return y}},D.fn.ajaxForm=function(e){if((e=e||{}).delegation=e.delegation&&D.isFunction(D.fn.on),!e.delegation&&0===this.length){var t={s:this.selector,c:this.context};return!D.isReady&&t.s?(I("DOM not ready, queuing ajaxForm"),D(function(){D(t.s,t.c).ajaxForm(e)})):I("terminating; zero elements found by selector"+(D.isReady?"":" (DOM not ready)")),this}return e.delegation?(D(document).off("submit.form-plugin",this.selector,o).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,e,o).on("click.form-plugin",this.selector,e,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,o).bind("click.form-plugin",e,n)},D.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},D.fn.formToArray=function(e,t){var o=[];if(0===this.length)return o;var n,r,a,i,s,l,c,p=this[0],u=e?p.getElementsByTagName("*"):p.elements;if(!u)return o;for(n=0,l=u.length;n<l;n++)if((a=(s=u[n]).name)&&!s.disabled)if(e&&p.clk&&"image"==s.type)p.clk==s&&(o.push({name:a,value:D(s).val(),type:s.type}),o.push({name:a+".x",value:p.clk_x},{name:a+".y",value:p.clk_y}));else if((i=D.fieldValue(s,!0))&&i.constructor==Array)for(t&&t.push(s),r=0,c=i.length;r<c;r++)o.push({name:a,value:i[r]});else if(y.fileapi&&"file"==s.type){t&&t.push(s);var d=s.files;if(d.length)for(r=0;r<d.length;r++)o.push({name:a,value:d[r],type:s.type});else o.push({name:a,value:"",type:s.type})}else null!=i&&(t&&t.push(s),o.push({name:a,value:i,type:s.type,required:s.required}));if(!e&&p.clk){var h=D(p.clk),g=h[0];(a=g.name)&&!g.disabled&&"image"==g.type&&(o.push({name:a,value:h.val()}),o.push({name:a+".x",value:p.clk_x},{name:a+".y",value:p.clk_y}))}return o},D.fn.formSerialize=function(e){return D.param(this.formToArray(e))},D.fn.fieldSerialize=function(r){var a=[];return this.each(function(){var e=this.name;if(e){var t=D.fieldValue(this,r);if(t&&t.constructor==Array)for(var o=0,n=t.length;o<n;o++)a.push({name:e,value:t[o]});else null!=t&&a.push({name:this.name,value:t})}}),D.param(a)},D.fn.fieldValue=function(e){for(var t=[],o=0,n=this.length;o<n;o++){var r=this[o],a=D.fieldValue(r,e);null==a||a.constructor==Array&&!a.length||(a.constructor==Array?D.merge(t,a):t.push(a))}return t},D.fieldValue=function(e,t){var o=e.name,n=e.type,r=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!o||e.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!e.checked||("submit"==n||"image"==n)&&e.form&&e.form.clk!=e||"select"==r&&-1==e.selectedIndex))return null;if("select"==r){var a=e.selectedIndex;if(a<0)return null;for(var i=[],s=e.options,l="select-one"==n,c=l?a+1:s.length,p=l?a:0;p<c;p++){var u=s[p];if(u.selected){var d=u.value;if(d||(d=u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value),l)return d;i.push(d)}}return i}return D(e).val()},D.fn.clearForm=function(e){return this.each(function(){D("input,select,textarea",this).clearFields(e)})},D.fn.clearFields=D.fn.clearInputs=function(o){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,t=this.tagName.toLowerCase();n.test(e)||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t?this.selectedIndex=-1:"file"==e?/MSIE/.test(navigator.userAgent)?D(this).replaceWith(D(this).clone(!0)):D(this).val(""):o&&(!0===o&&/hidden/.test(e)||"string"==typeof o&&D(this).is(o))&&(this.value="")})},D.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},D.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},D.fn.selected=function(o){return void 0===o&&(o=!0),this.each(function(){var e=this.type;if("checkbox"==e||"radio"==e)this.checked=o;else if("option"==this.tagName.toLowerCase()){var t=D(this).parent("select");o&&t[0]&&"select-one"==t[0].type&&t.find("option").selected(!1),this.selected=o}})},D.fn.ajaxSubmit.debug=!1}(jQuery),$(function(n){var t=n(".header_area").offset().top;if(n(window).on("scroll",function(){!function(){if(n(".header_area").length){var e=t;n(window).scrollTop()>e?(n(".header_area").removeClass("fadeIn animated"),n(".header_area").addClass("stricky-fixed fadeInDown animated")):n(window).scrollTop()<=e&&(n(".header_area").removeClass("stricky-fixed fadeInDown animated"),n(".header_area").addClass("slideIn animated"))}}()}),n(".skill_item_inner").each(function(){n(this).waypoint(function(){n(".progress-bar").each(function(e){n(this).css("width",n(this).attr("aria-valuenow")+"%")})},{triggerOnce:!0,offset:"bottom-in-view"})}),n(".portfolio_area").length&&(n(".portfolio_list_inner").imagesLoaded(function(){n(".portfolio_list_inner").isotope({itemSelector:".col-md-4"})}),n(".porfolio_menu ul li").on("click",function(){n(".porfolio_menu ul li").removeClass("active"),n(this).addClass("active");var e=n(this).attr("data-filter");return n(".portfolio_list_inner").isotope({filter:e,animationOptions:{duration:450,easing:"linear",queue:!1}}),!1})),n(".blog_slider_inner").length&&n(".blog_slider_inner").owlCarousel({loop:!0,margin:0,nav:!0,items:1,autoplay:!1,smartSpeed:1500,navContainer:".blog_slider_area",navText:['<i class="fa fa-long-arrow-left" aria-hidden="true"></i>','<i class="fa fa-long-arrow-right" aria-hidden="true"></i>']}),n("#mapBox").length){var e=n("#mapBox").data("lat"),o=n("#mapBox").data("lon"),r=n("#mapBox").data("zoom");new GMaps({el:"#mapBox",lat:e,lng:o,scrollwheel:!1,scaleControl:!0,streetViewControl:!1,panControl:!0,disableDoubleClickZoom:!0,mapTypeControl:!1,zoom:r,styles:[{featureType:"administrative.country",elementType:"geometry",stylers:[{visibility:"simplified"},{hue:"#ff0000"}]}]})}n(".header_area .nav.navbar-nav li").click(function(e){e.preventDefault(),n(".header_area .nav.navbar-nav li").removeClass("active"),n(this).addClass("active")}),n('.header_area .nav.navbar-nav li a[href^="#"]:not([href="#"])').on("click",function(e){var t=n(this);n("html, body").stop().animate({scrollTop:n(t.attr("href")).offset().top-80},1500),e.preventDefault()}),!0===n("body").data("scroll-animation")&&new WOW({mobile:!1}).init(),n(".video").click(function(){var e=n(this).data("target"),t=n(this).attr("data-video"),o=t+"?modestbranding=1&rel=0&controls=0&showinfo=0&html5=1&autoplay=1";n(e+" iframe").attr("src",o),n(e+" button.close").click(function(){n(e+" iframe").attr("src",t)})}),n(".about_person_area .person_img img").hover(function(){n(".about_person_area .person_img .middle").css("opacity","1")},function(){n(".about_person_area .person_img .middle").css("opacity","0.5")})}),$(document).ready(function(){var t,e=function(e,t){return localStorage.setItem(e,JSON.stringify(t))},o=function(e){return JSON.parse(localStorage.getItem(e))},n=function(e){return localStorage.removeItem(e)};if(function(){return window.localStorage}()){var r="longForm";$(".form-control").on("blur",function(){var t={};$("form").serializeArray().map(function(e){t[e.name]=e.value}),e(r,t)});var a=o(r);a&&$.each(a,function(e,t){$("[name="+e+"]").val(t)})}else alert("No Local Storage Support!");(t=jQuery)(function(){t("#contactForm").validate({rules:{name:{required:!0,minlength:2},subject:{required:!0,minlength:4},email:{required:!0,email:!0},message:{required:!0,minlength:20}},messages:{name:{required:"Please Type Your Name",minlength:"your name must consist of at least 2 characters"},subject:{required:"Please type your Subject.",minlength:"your address must consist of at least 4 characters"},email:{required:"Your Valid E-mail Address is required"},message:{required:"um...yea, you have to write something to send this form.",minlength:"thats all? really?"}},submitHandler:function(e){t(e).ajaxSubmit({type:"POST",data:t(e).serialize(),url:"/",success:function(){n(r),t("#contactForm :input").attr("disabled","disabled"),t("#contactForm").fadeTo("slow",.15,function(){t(this).find(":input").attr("disabled","disabled"),t(this).find("label").css("cursor","default"),t("#success").fadeIn()})},error:function(){t("#contactForm").fadeTo("slow",.15,function(){t("#error").fadeIn()})}})}})})});